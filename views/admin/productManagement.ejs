<%- include ("../layout/admintemHeader")%>
    <%- include ("../layout/sideBar")%>
<% // want to do message setup for existing product =======same product is adding do similar to the video
 %>
        <main class="main-wrap">
            
            <section class="content-main">
                <div class="content-header">
                   
                        <h1 >Products List</h1>
                        
                    
                    
                    
                    <div>

                        <a href="/admin/addproduct" class="btn btn-primary btn-sm rounded">Create Product</a>
                    </div>
                </div>
                <div class="card mb-4">
                 <!-- card-header end// -->
                    <div class="card-body">
                      
                       
                        <table class="table">
                            <thead>
                                <tr>
                                    <th scope="col">Number</th>
                                    <th scope="col">Images</th>
                                    <th scope="col">Product Name</th>
                                    <th scope="col">Price</th>
                                    <th scope="col">Gross Weight</th>
                                    <th scope="col">Gold Purity</th>
                                    <th scope="col">Making Charges</th>
                                    <th scope="col">Category</th>
                                    <th scope="col">Stock</th>
                                    <th scope="col">Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                            <% if (product && product.length > 0) { %>
                                <% product.forEach((ele,i) => { %>
                                <tr>
                                    <td>
                                        <%= i+1 %>
                                    </td>
                                   
                                    
                                    <td><img   width="50"
                                        height="60" src="/assets/imgs/productIMG/<%= ele.images[0] %>"></td>
                                    
                                    <td><%= ele.name %></td>
                                    <td>₹<%= ele.total_price %></td>
                                    <td><%= ele.gross_weight %>gm</td>
                                    <td><%= ele.gold_purity %>K</td>
                                    <td>₹<%= ele.making_charge %></td>
                                    <td><%= ele.category.name %></td>
                                    <td><%= ele.stock %></td>
                                   
                                    
                                    <td>
                                        
                                        <a class="btn btn-sm font-sm btn-light rounded" href="/admin/editproduct/<%=ele._id %>">Edit</a>
                                        <% if (ele.is_listed) { // what about the product in the unlisted category%>
                                            <a class="btn btn-sm font-sm btn-light rounded " href="/admin/unlistproduct/<%= ele._id %>">
                                                  Unlist</a>
                                              <% }else{ %> 
                                                <a class="btn btn-sm font-sm btn-light rounded " href="/admin/listproduct/<%= ele._id %>">
                                                  List
                                              <% } %> 
                                            </a>
                                      
                                    </td>
                                    
                                </tr>
                                <% }) %>
                            <% } else { %>
                                    <tr>
                                        <td colspan="4">
                                            <p>No products found</p>
                                        </td>
                                    </tr>
                             <% } %>    
                            </tbody>
                        </table>
                    </div> <!-- card-body end// -->
                    
                </div> <!-- card end// -->
                <div class="container mt-3">
                    <nav aria-label="Page navigation">
                        <ul class="pagination justify-content-start mb-20" style="margin-right: 200px;">
                          <% for(let i=1; i<=totalPages;i++){ %>
                            <li class="page-item <%=(i===currentPage) ? 'active' : '' %>">
                              <a class="page-link" href="?page=<%= i %>"><%= i %></a>
                            </li>
                            <% } %>
                        </ul>
                    </nav>
                </div>
                
            </section> <!-- content-main end// -->
          
        </main>
        <script src="assets/js/vendors/jquery-3.6.0.min.js"></script>
        <script src="assets/js/vendors/bootstrap.bundle.min.js"></script>
        <script src="assets/js/vendors/select2.min.js"></script>
        <script src="assets/js/vendors/perfect-scrollbar.js"></script>
        <script src="assets/js/vendors/jquery.fullscreen.min.js"></script>
        <!-- Main Script -->
        <script src="assets/js/main.js" type="text/javascript"></script>
        </body>


        <!-- Mirrored from wp.alithemes.com/html/evara/evara-backend/page-products-list.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 Aug 2021 15:33:12 GMT -->

        </html>